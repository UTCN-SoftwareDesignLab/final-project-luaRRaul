{"remainingRequest":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/babel-loader/lib/index.js!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/src/views/Login.vue","mtime":1619891892055},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Rtc3QvYW4zc2VtMi9zZC9hc3NpZ25tZW50LTMtbHVhUlJhdWwvQXNzaWdubWVudHMvQXNzaWdubWVudCAzL3N0b2NraGVsdC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlbGxvV29ybGQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAibG9naW4iLAogICAgICBsb2dpbjogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICB1c2VybmFtZTogImFsZXgiLAogICAgICAgIHBhc3N3b3JkOiAiV29vSG9vMSEiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhdHRlbXB0TG9naW46IGZ1bmN0aW9uIGF0dGVtcHRMb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdGhpcy5sb2dpbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbikgewogICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJhdXRoL2lzQWRtaW4iXSkgewogICAgICAgICAgICByb3V0ZXIucHVzaCgiL3VzZXJzIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNEb2N0b3IiXSkgewogICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvZG9jdG9yc0FwcG9pbnRtZW50TGlzdCIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvcGF0aWVudExpc3QiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiSW52YWxpZCBjcmVkZW50aWFscyEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGF0dGVtcHRSZWdpc3RlcjogZnVuY3Rpb24gYXR0ZW1wdFJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9yZWdpc3RlciIsIF90aGlzMi5sb2dpbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b2dnbGVNb2RlOiBmdW5jdGlvbiB0b2dnbGVNb2RlKCkgewogICAgICB0aGlzLm1vZGUgPSB0aGlzLm1vZGUgPT09ICJsb2dpbiIgPyAicmVnaXN0ZXIiIDogImxvZ2luIjsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9nb3V0Iik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfSwKICAgIGluTG9naW5Nb2RlOiBmdW5jdGlvbiBpbkxvZ2luTW9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gImxvZ2luIjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA,OAAA,MAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,MAFA;AAGA,QAAA,QAAA,EAAA;AAHA;AAFA,KAAA;AAAA,GAHA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAFA,MAEA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,EACA;AAAA,cAAA,MAAA,CAAA,IAAA,CAAA,yBAAA;AAAA,aADA,MAEA;AACA,cAAA,MAAA,CAAA,IAAA,CAAA,cAAA;AACA;AACA;AACA,SAVA,MAUA;AACA,UAAA,KAAA,CAAA,sBAAA,CAAA;AACA;AACA,OAdA;AAeA,KAjBA;AAkBA,IAAA,eAlBA,6BAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,MAAA,CAAA,KAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KApBA;AAqBA,IAAA,UArBA,wBAqBA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,OAAA,GAAA,UAAA,GAAA,OAAA;AACA,KAvBA;AAwBA,IAAA,MAxBA,oBAwBA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA;AA1BA,GAXA;AAuCA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,IAAA,KAAA,OAAA;AACA;AANA;AAvCA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-layout row justify-center pt-3>\n      <v-flex xs4 class=\"grey lighten-4\">\n        <v-container class=\"text-xs-center\">\n          <v-card flat>\n            <v-card-title primary-title>\n              <h4 v-if=\"inLoginMode\">Login</h4>\n              <h4 v-else>Register</h4>\n            </v-card-title>\n            <v-form>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                prepend-icon=\"email\"\n                name=\"Email\"\n                label=\"Email\"\n                v-model=\"login.email\"\n                validate-on-blur\n              >\n              </v-text-field>\n              <v-text-field\n                prepend-icon=\"person\"\n                name=\"Username\"\n                label=\"Username\"\n                v-model=\"login.username\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"lock\"\n                name=\"Password\"\n                label=\"Password\"\n                type=\"password\"\n                v-model=\"login.password\"\n                validate-on-blur\n              ></v-text-field>\n              <v-card-actions>\n                <v-container>\n                  <v-layout v-if=\"inLoginMode\" row justify-center>\n                    <v-btn primary large block @click=\"attemptLogin\"\n                      >Login</v-btn\n                    >\n                    <v-btn plain @click=\"toggleMode\">\n                      No account? Click to register!\n                    </v-btn>\n                  </v-layout>\n\n                  <v-layout v-else row justify-center>\n                    <v-btn primary large block @click=\"attemptRegister\"\n                      >Register</v-btn\n                    >\n                    <v-btn plain @click=\"toggleMode\">\n                      Already registered? Click to login!\n                    </v-btn>\n                  </v-layout>\n\n                  <v-layout v-if=\"isLoggedIn\" row justify-center>\n                    <v-btn @click=\"logout\"> Logout </v-btn>\n                  </v-layout>\n                </v-container>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-container>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport router from \"../router\";\n\nexport default {\n  name: \"HelloWorld\",\n\n  data: () => ({\n    mode: \"login\",\n    login: {\n      email: \"\",\n      username: \"alex\",\n      password: \"WooHoo1!\",\n    },\n  }),\n  methods: {\n    attemptLogin() {\n      this.$store.dispatch(\"auth/login\", this.login).then(() => {\n        if (this.$store.state.auth.status.loggedIn) {\n          if (this.$store.getters[\"auth/isAdmin\"]) {\n            router.push(\"/users\");\n          } else {\n            if(this.$store.getters[\"auth/isDoctor\"])\n            {router.push(\"/doctorsAppointmentList\")}\n            else {\n              router.push(\"/patientList\");\n            }\n          }\n        } else {\n          alert(\"Invalid credentials!\");\n        }\n      });\n    },\n    async attemptRegister() {\n      await this.$store.dispatch(\"auth/register\", this.login);\n    },\n    toggleMode() {\n      this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n    },\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n    },\n  },\n  computed: {\n    isLoggedIn: function () {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    inLoginMode: function () {\n      return this.mode === \"login\";\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}