{"remainingRequest":"/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/babel-loader/lib/index.js!/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/src/store/auth.module.js","dependencies":[{"path":"/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/src/store/auth.module.js","mtime":1617548510516},{"path":"/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Rtc3QvYW4zc2VtMi9zZC9hc3NpZ25tZW50LTEtbHVhUlJhdWwvQXNzaWdubWVudHMvQXNzaWdubWVudCAyL2NhcnRpc21oL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgYXBpIGZyb20gIi4uL2FwaSI7CnZhciB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKTsKdmFyIGluaXRpYWxTdGF0ZSA9IHVzZXIgPyB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogdHJ1ZQogIH0sCiAgdXNlcjogdXNlcgp9IDogewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IGZhbHNlCiAgfSwKICB1c2VyOiBudWxsCn07CmV4cG9ydCB2YXIgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXBpLmF1dGgubG9naW4odXNlcikudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgICAgICBjb21taXQoImxvZ2luU3VjY2VzcyIsIHVzZXIpOwogICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgibG9naW5GYWlsdXJlIik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBhcGkuYXV0aC5sb2dvdXQoKTsKICAgICAgY29tbWl0KCJsb2dvdXQiKTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjMsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIGFwaS5hdXRoLnJlZ2lzdGVyKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCJyZWdpc3RlclN1Y2Nlc3MiKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoInJlZ2lzdGVyRmFpbHVyZSIpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBsb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luU3VjY2VzcyhzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBsb2dpbkZhaWx1cmU6IGZ1bmN0aW9uIGxvZ2luRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIHJlZ2lzdGVyU3VjY2VzczogZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfSwKICAgIHJlZ2lzdGVyRmFpbHVyZTogZnVuY3Rpb24gcmVnaXN0ZXJGYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNBZG1pbjogZnVuY3Rpb24gaXNBZG1pbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci5yb2xlcy5pbmNsdWRlcygiQURNSU4iKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/tmst/an3sem2/sd/assignment-1-luaRRaul/Assignments/Assignment 2/cartismh/frontend/src/store/auth.module.js"],"names":["api","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure","getters","isAdmin","roles","includes"],"mappings":"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","sourcesContent":["import api from \"../api\";\n\nconst user = JSON.parse(localStorage.getItem(\"user\"));\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    async login({ commit }, user) {\n      return api.auth.login(user).then(\n        (user) => {\n          commit(\"loginSuccess\", user);\n          return Promise.resolve(user);\n        },\n        (error) => {\n          commit(\"loginFailure\");\n          return Promise.reject(error);\n        }\n      );\n    },\n    logout({ commit }) {\n      api.auth.logout();\n      commit(\"logout\");\n    },\n    register({ commit }, user) {\n      return api.auth.register(user).then(\n        (response) => {\n          commit(\"registerSuccess\");\n          return Promise.resolve(response.data);\n        },\n        (error) => {\n          commit(\"registerFailure\");\n          return Promise.reject(error);\n        }\n      );\n    },\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    },\n  },\n  getters: {\n    isAdmin: (state) => {\n      return state.user.roles.includes(\"ADMIN\");\n    },\n  },\n};\n"]}]}