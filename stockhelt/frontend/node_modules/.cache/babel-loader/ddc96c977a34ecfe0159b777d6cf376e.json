{"remainingRequest":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/babel-loader/lib/index.js!/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/src/components/MessageInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/src/components/MessageInput.vue","mtime":1622567563980},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdtZXNzYWdlLWlucHV0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0TWVzc2FnZTogZnVuY3Rpb24gc3VibWl0TWVzc2FnZShldmVudCkgewogICAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gSWYgdGhlIG1lc3NhZ2UgYm9keSBpcyBlbXB0eSwgZG8gbm90IHN1Ym1pdAoKCiAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIGNvbnNvbGUubG9nKGV2ZW4udGFyZ2V0LnZhbHVlKTsKICAgICAgLy8gUHVibGlzaCB0byBQdWJOdWIgdGhlIHRleHQgYW5kIHVzZXIncyB1dWlkCiAgICAgIC8vIFJlc2V0IHRoZSB0ZXh0IGlucHV0CgoKICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNEb2N0b3IiXSkgewogICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImRvY3RvclNlbmRNZXNzYWdlIiwgZXZlbnQudGFyZ2V0LnZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJwYXRpZW50U2VuZE1lc3NhZ2UiLCBldmVudC50YXJnZXQudmFsdWUpOwogICAgICB9CgogICAgICBldmVudC50YXJnZXQudmFsdWUgPSAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MessageInput.vue"],"names":[],"mappings":";;;;;;;;;;;AAYA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA,EAAA;AACA,GAJA;AAKA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,KADA,EACA;AACA,UAAA,CAAA,KAAA,CAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA;AACA,OAFA,MAEA;AACA;AACA,OALA,CAMA;;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA;AACA,OATA,CAUA;AACA;AACA;;;AACA,UAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,KAAA,CAAA,mBAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,CAAA,KAAA,CAAA,oBAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,EAAA;AACA;AApBA;AALA,CAAA","sourcesContent":["<template>\n  <div class=\"message-input\">\n    <textarea\n        ref=\"messageInput\"\n        placeholder=\"message...\"\n        maxlength=\"20000\"\n        @keydown.enter=\"submitMessage\"\n    ></textarea>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'message-input',\n  data() {\n    return {};\n  },\n  methods: {\n    submitMessage(event) {\n      if (!event.shiftKey) {\n        event.preventDefault();\n      } else {\n        return;\n      }\n      // If the message body is empty, do not submit\n      if (event.target.value.length === 0) {\n        return;\n      }\n      // console.log(even.target.value);\n      // Publish to PubNub the text and user's uuid\n      // Reset the text input\n      if(this.$store.getters[\"auth/isDoctor\"]) {\n        this.$root.$emit(\"doctorSendMessage\",event.target.value);\n      }else{\n        this.$root.$emit(\"patientSendMessage\",event.target.value);\n      }\n      event.target.value = '';\n    }\n  },\n};\n</script>\n\n<style scoped>\n.message-input {\n  display: table-row;\n  width: 100%;\n  height: 26px;\n}\ntextarea {\n  width: 98%;\n  height: 30px;\n  padding: 0 5px;\n  margin: 0;\n  box-sizing: border-box;\n  line-height: 20pt;\n  resize: none;\n  outline: none;\n  font-size: 14px;\n  border: solid 1px #AAAAAA;\n  border-radius: 3px;\n  font-family: Helvetica;\n}\n</style>\n"],"sourceRoot":"src/components"}]}