{"remainingRequest":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/babel-loader/lib/index.js!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/src/components/WebsocketGreetings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/src/components/WebsocketGreetings.vue","mtime":1620206904708},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNvY2tKUyBmcm9tICJzb2NranMtY2xpZW50IjsKaW1wb3J0IFN0b21wIGZyb20gIndlYnN0b21wLWNsaWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAid2Vic29ja2V0ZGVtbyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlY2VpdmVkX21lc3NhZ2VzOiBbXSwKICAgICAgc2VuZF9tZXNzYWdlOiBudWxsLAogICAgICBjb25uZWN0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VuZDogZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgY29uc29sZS5sb2coIlNlbmQgbWVzc2FnZToiICsgdGhpcy5zZW5kX21lc3NhZ2UpOwoKICAgICAgaWYgKHRoaXMuc3RvbXBDbGllbnQgJiYgdGhpcy5zdG9tcENsaWVudC5jb25uZWN0ZWQpIHsKICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgbmFtZTogdGhpcy5zZW5kX21lc3NhZ2UKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG1zZykpOwogICAgICAgIHRoaXMuc3RvbXBDbGllbnQuc2VuZCgiL2FwcC9oZWxsbyIsIEpTT04uc3RyaW5naWZ5KG1zZyksIHt9KTsKICAgICAgfQogICAgfSwKICAgIGNvbm5lY3Q6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNvY2tldCA9IG5ldyBTb2NrSlMoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9ncy1ndWlkZS13ZWJzb2NrZXQiKTsKICAgICAgdGhpcy5zdG9tcENsaWVudCA9IFN0b21wLm92ZXIodGhpcy5zb2NrZXQpOwogICAgICB0aGlzLnN0b21wQ2xpZW50LmNvbm5lY3Qoe30sIGZ1bmN0aW9uIChmcmFtZSkgewogICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgY29uc29sZS5sb2coZnJhbWUpOwoKICAgICAgICBfdGhpcy5zdG9tcENsaWVudC5zdWJzY3JpYmUoIi90b3BpYy9tZXNzYWdlcyIsIGZ1bmN0aW9uICh0aWNrKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aWNrKTsKCiAgICAgICAgICBfdGhpcy5yZWNlaXZlZF9tZXNzYWdlcy5wdXNoKEpTT04ucGFyc2UodGljay5ib2R5KS5jb250ZW50KTsKICAgICAgICB9KTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBkaXNjb25uZWN0OiBmdW5jdGlvbiBkaXNjb25uZWN0KCkgewogICAgICBpZiAodGhpcy5zdG9tcENsaWVudCkgewogICAgICAgIHRoaXMuc3RvbXBDbGllbnQuZGlzY29ubmVjdCgpOwogICAgICB9CgogICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlOwogICAgfSwKICAgIHRpY2tsZUNvbm5lY3Rpb246IGZ1bmN0aW9uIHRpY2tsZUNvbm5lY3Rpb24oKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID8gdGhpcy5kaXNjb25uZWN0KCkgOiB0aGlzLmNvbm5lY3QoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gdGhpcy5jb25uZWN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["WebsocketGreetings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,OAAA,MAAA,MAAA,eAAA;AACA,OAAA,KAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,KAAA,YAAA;;AACA,UAAA,KAAA,WAAA,IAAA,KAAA,WAAA,CAAA,SAAA,EAAA;AACA,YAAA,GAAA,GAAA;AAAA,UAAA,IAAA,EAAA,KAAA;AAAA,SAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA;AACA,aAAA,WAAA,CAAA,IAAA,CAAA,YAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,EAAA,EAAA;AACA;AACA,KARA;AASA,IAAA,OATA,qBASA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA,MAAA,CAAA,0CAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA;AACA,WAAA,WAAA,CAAA,OAAA,CACA,EADA,EAEA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,SAAA,CAAA,iBAAA,EAAA,UAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,iBAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA;AACA,SAHA;AAIA,OATA,EAUA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAbA;AAeA,KA3BA;AA4BA,IAAA,UA5BA,wBA4BA;AACA,UAAA,KAAA,WAAA,EAAA;AACA,aAAA,WAAA,CAAA,UAAA;AACA;;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KAjCA;AAkCA,IAAA,gBAlCA,8BAkCA;AACA,WAAA,SAAA,GAAA,KAAA,UAAA,EAAA,GAAA,KAAA,OAAA,EAAA;AACA;AApCA,GATA;AA+CA,EAAA,OA/CA,qBA+CA,CACA;AACA;AAjDA,CAAA","sourcesContent":["<template>\n  <div>\n    <div id=\"main-content\" class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <form class=\"form-inline\">\n            <div class=\"form-group\">\n              <label for=\"connect\">WebSocket connection:</label>\n              <v-btn id=\"connect\" class=\"btn btn-default\" type=\"submit\" :disabled=\"connected === true\" @click.prevent=\"connect\">Connect</v-btn>\n              <v-btn id=\"disconnect\" class=\"btn btn-default\" type=\"submit\" :disabled=\"connected === false\" @click.prevent=\"disconnect\">Disconnect\n              </v-btn>\n            </div>\n          </form>\n        </div>\n        <div class=\"col-md-6\">\n          <form class=\"form-inline\">\n            <div class=\"form-group\">\n              <label for=\"name\">What is your name?</label>\n              <input type=\"text\" id=\"name\" class=\"form-control\" v-model=\"send_message\" placeholder=\"Your name here...\">\n            </div>\n            <v-btn id=\"send\" class=\"btn btn-default\" type=\"submit\" @click.prevent=\"send\">Send</v-btn>\n          </form>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <table id=\"conversation\" class=\"table table-striped\">\n            <thead>\n            <tr>\n              <th>Greetings</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"item in received_messages\" :key=\"item\">\n              <td>{{ item }}</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nexport default {\n  name: \"websocketdemo\",\n  data() {\n    return {\n      received_messages: [],\n      send_message: null,\n      connected: false\n    };\n  },\n  methods: {\n    send() {\n      console.log(\"Send message:\" + this.send_message);\n      if (this.stompClient && this.stompClient.connected) {\n        const msg = { name: this.send_message };\n        console.log(JSON.stringify(msg));\n        this.stompClient.send(\"/app/hello\", JSON.stringify(msg), {});\n      }\n    },\n    connect() {\n      this.socket = new SockJS(\"http://localhost:8088/gs-guide-websocket\");\n      this.stompClient = Stomp.over(this.socket);\n      this.stompClient.connect(\n          {},\n          frame => {\n            this.connected = true;\n            console.log(frame);\n            this.stompClient.subscribe(\"/topic/messages\", tick => {\n              console.log(tick);\n              this.received_messages.push(JSON.parse(tick.body).content);\n            });\n          },\n          error => {\n            console.log(error);\n            this.connected = false;\n          }\n      );\n    },\n    disconnect() {\n      if (this.stompClient) {\n        this.stompClient.disconnect();\n      }\n      this.connected = false;\n    },\n    tickleConnection() {\n      this.connected ? this.disconnect() : this.connect();\n    }\n  },\n  mounted() {\n    // this.connect();\n  }\n};\n</script>\n<style scoped=\"\">\n</style>\n"],"sourceRoot":"src/components"}]}