{"remainingRequest":"/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/src/views/Login.vue","mtime":1618932717841},{"path":"/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-2-luaRRaul/Assignments/Assignment 2/cartismh/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGVsbG9Xb3JsZCIsCgogIGRhdGE6ICgpID0+ICh7CiAgICBtb2RlOiAibG9naW4iLAogICAgbG9naW46IHsKICAgICAgZW1haWw6ICIiLAogICAgICB1c2VybmFtZTogImFsZXgiLAogICAgICBwYXNzd29yZDogIldvb0hvbzEhIiwKICAgIH0sCiAgfSksCiAgbWV0aG9kczogewogICAgYXR0ZW1wdExvZ2luKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dpbiIsIHRoaXMubG9naW4pLnRoZW4oKCkgPT4gewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbikgewogICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNBZG1pbiJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvdXNlcnMiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvYm9va3NFbXBsb3llZSIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiSW52YWxpZCBjcmVkZW50aWFscyEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGF0dGVtcHRSZWdpc3RlcigpIHsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvcmVnaXN0ZXIiLCB0aGlzLmxvZ2luKTsKICAgIH0sCiAgICB0b2dnbGVNb2RlKCkgewogICAgICB0aGlzLm1vZGUgPSB0aGlzLm1vZGUgPT09ICJsb2dpbiIgPyAicmVnaXN0ZXIiIDogImxvZ2luIjsKICAgIH0sCiAgICBsb2dvdXQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ291dCIpOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbjsKICAgIH0sCiAgICBpbkxvZ2luTW9kZTogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSAibG9naW4iOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <v-layout row justify-center pt-3>\n      <v-flex xs4 class=\"grey lighten-4\">\n        <v-container class=\"text-xs-center\">\n          <v-card flat>\n            <v-card-title primary-title>\n              <h4 v-if=\"inLoginMode\">Login</h4>\n              <h4 v-else>Register</h4>\n            </v-card-title>\n            <v-form>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                prepend-icon=\"email\"\n                name=\"Email\"\n                label=\"Email\"\n                v-model=\"login.email\"\n                validate-on-blur\n              >\n              </v-text-field>\n              <v-text-field\n                prepend-icon=\"person\"\n                name=\"Username\"\n                label=\"Username\"\n                v-model=\"login.username\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"lock\"\n                name=\"Password\"\n                label=\"Password\"\n                type=\"password\"\n                v-model=\"login.password\"\n                validate-on-blur\n              ></v-text-field>\n              <v-card-actions>\n                <v-container>\n                  <v-layout v-if=\"inLoginMode\" row justify-center>\n                    <v-btn primary large block @click=\"attemptLogin\"\n                      >Login</v-btn\n                    >\n                    <v-btn plain @click=\"toggleMode\">\n                      No account? Click to register!\n                    </v-btn>\n                  </v-layout>\n\n                  <v-layout v-else row justify-center>\n                    <v-btn primary large block @click=\"attemptRegister\"\n                      >Register</v-btn\n                    >\n                    <v-btn plain @click=\"toggleMode\">\n                      Already registered? Click to login!\n                    </v-btn>\n                  </v-layout>\n\n                  <v-layout v-if=\"isLoggedIn\" row justify-center>\n                    <v-btn @click=\"logout\"> Logout </v-btn>\n                  </v-layout>\n                </v-container>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-container>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport router from \"../router\";\n\nexport default {\n  name: \"HelloWorld\",\n\n  data: () => ({\n    mode: \"login\",\n    login: {\n      email: \"\",\n      username: \"alex\",\n      password: \"WooHoo1!\",\n    },\n  }),\n  methods: {\n    attemptLogin() {\n      this.$store.dispatch(\"auth/login\", this.login).then(() => {\n        if (this.$store.state.auth.status.loggedIn) {\n          if (this.$store.getters[\"auth/isAdmin\"]) {\n            router.push(\"/users\");\n          } else {\n            router.push(\"/booksEmployee\");\n          }\n        } else {\n          alert(\"Invalid credentials!\");\n        }\n      });\n    },\n    async attemptRegister() {\n      await this.$store.dispatch(\"auth/register\", this.login);\n    },\n    toggleMode() {\n      this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n    },\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n    },\n  },\n  computed: {\n    isLoggedIn: function () {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    inLoginMode: function () {\n      return this.mode === \"login\";\n    },\n  },\n};\n</script>\n"]}]}