{"remainingRequest":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/src/components/ChatLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/src/components/ChatLog.vue","mtime":1622567563968},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/final-project-luaRRaul/stockhelt/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNZXNzYWdlQnViYmxlIGZyb20gJ0AvY29tcG9uZW50cy9NZXNzYWdlQnViYmxlJzsKLyoqCiAqIEF1dG8gc2Nyb2xscyB0aGUgY2hhdCBsb2cgdG8gdGhlIGJvdHRvbSB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcmVjZWl2ZWQKICovCmZ1bmN0aW9uIHNjcm9sbEJvdHRvbSgpIHsKICB0aGlzLiRlbC5zY3JvbGxUbygwLCB0aGlzLiRlbC5zY3JvbGxIZWlnaHQpOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2hhdC1sb2cnLAogIGNvbXBvbmVudHM6IHtNZXNzYWdlQnViYmxlfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyoKICAgICAgICogJHBuR2V0TWVzc2FnZSB3aWxsIGxpc3RlbiB0byBhIGNoYW5uZWwgc3Vic2NyaWJlZCB0byBhbmQgc3RhcnQgdG8KICAgICAgICogZGlzcGxheSBtZXNzYWdlcyBhcyBzb29uIGFzIHRoZXkgYXJlIHJlY2VpdmVkLgogICAgICAqLwogICAgICBtZXNhamU6IFtdLAogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBkaXNwbGF5KG1lc3NhZyl7CiAgICAgIHRoaXMubWVzYWplLnB1c2gobWVzc2FnKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2dWVDaGF0TXNnOiBmdW5jdGlvbigpewogICAgICB0aGlzLiRuZXh0VGljayhzY3JvbGxCb3R0b20pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmKHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNEb2N0b3IiXSkgewogICAgICB0aGlzLiRyb290LiRvbignZG9jdG9yUmVjZWl2ZWRNZXNzYWdlJywobWVzc2FnKT0+ewogICAgICAgIHRoaXMuZGlzcGxheShtZXNzYWcpOwogICAgICB9KQogICAgfWVsc2V7CiAgICAgIHRoaXMuJHJvb3QuJG9uKCdwYXRpZW50UmVjZWl2ZWRNZXNzYWdlJywobWVzc2FnKT0+ewogICAgICAgIHRoaXMuZGlzcGxheShtZXNzYWcpOwogICAgICB9KQogICAgfQogIH0KfTsK"},{"version":3,"sources":["ChatLog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChatLog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n      class=\"chat-log\"\n      ref=\"chatLogContainer\"\n  >\n    <message-bubble\n        v-for=\"msg in mesaje\"\n        v-bind:key=\"msg.id\"\n        v-bind:uuid=\"msg.sender\"\n        v-bind:text=\"msg.content\"\n    ></message-bubble>\n  </div>\n</template>\n\n<script>\nimport MessageBubble from '@/components/MessageBubble';\n/**\n * Auto scrolls the chat log to the bottom when a new message is received\n */\nfunction scrollBottom() {\n  this.$el.scrollTo(0, this.$el.scrollHeight);\n}\nexport default {\n  name: 'chat-log',\n  components: {MessageBubble},\n  data() {\n    return {\n      /*\n       * $pnGetMessage will listen to a channel subscribed to and start to\n       * display messages as soon as they are received.\n      */\n      mesaje: [],\n    }\n  },\n  methods:{\n    display(messag){\n      this.mesaje.push(messag);\n    }\n  },\n  watch: {\n    vueChatMsg: function(){\n      this.$nextTick(scrollBottom);\n    }\n  },\n  mounted() {\n    if(this.$store.getters[\"auth/isDoctor\"]) {\n      this.$root.$on('doctorReceivedMessage',(messag)=>{\n        this.display(messag);\n      })\n    }else{\n      this.$root.$on('patientReceivedMessage',(messag)=>{\n        this.display(messag);\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n.chat-log {\n  display: block;\n  height: inherit;\n  width: 100%;\n  padding: 2% 4%;\n  box-sizing: border-box;\n  overflow-y: scroll;\n}\n.chat-log::-webkit-scrollbar {\n  display: none;\n}\n</style>\n"]}]}