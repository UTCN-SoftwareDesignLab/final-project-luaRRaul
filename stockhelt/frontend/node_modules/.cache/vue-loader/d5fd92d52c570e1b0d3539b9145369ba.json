{"remainingRequest":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/src/components/WebsocketGreetings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/src/components/WebsocketGreetings.vue","mtime":1620206904708},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tmst/an3sem2/sd/assignment-3-luaRRaul/Assignments/Assignment 3/stockhelt/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTb2NrSlMgZnJvbSAic29ja2pzLWNsaWVudCI7CmltcG9ydCBTdG9tcCBmcm9tICJ3ZWJzdG9tcC1jbGllbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIndlYnNvY2tldGRlbW8iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWNlaXZlZF9tZXNzYWdlczogW10sCiAgICAgIHNlbmRfbWVzc2FnZTogbnVsbCwKICAgICAgY29ubmVjdGVkOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbmQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJTZW5kIG1lc3NhZ2U6IiArIHRoaXMuc2VuZF9tZXNzYWdlKTsKICAgICAgaWYgKHRoaXMuc3RvbXBDbGllbnQgJiYgdGhpcy5zdG9tcENsaWVudC5jb25uZWN0ZWQpIHsKICAgICAgICBjb25zdCBtc2cgPSB7IG5hbWU6IHRoaXMuc2VuZF9tZXNzYWdlIH07CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobXNnKSk7CiAgICAgICAgdGhpcy5zdG9tcENsaWVudC5zZW5kKCIvYXBwL2hlbGxvIiwgSlNPTi5zdHJpbmdpZnkobXNnKSwge30pOwogICAgICB9CiAgICB9LAogICAgY29ubmVjdCgpIHsKICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgU29ja0pTKCJodHRwOi8vbG9jYWxob3N0OjgwODgvZ3MtZ3VpZGUtd2Vic29ja2V0Iik7CiAgICAgIHRoaXMuc3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHRoaXMuc29ja2V0KTsKICAgICAgdGhpcy5zdG9tcENsaWVudC5jb25uZWN0KAogICAgICAgICAge30sCiAgICAgICAgICBmcmFtZSA9PiB7CiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICAgICAgY29uc29sZS5sb2coZnJhbWUpOwogICAgICAgICAgICB0aGlzLnN0b21wQ2xpZW50LnN1YnNjcmliZSgiL3RvcGljL21lc3NhZ2VzIiwgdGljayA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2codGljayk7CiAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZF9tZXNzYWdlcy5wdXNoKEpTT04ucGFyc2UodGljay5ib2R5KS5jb250ZW50KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgZGlzY29ubmVjdCgpIHsKICAgICAgaWYgKHRoaXMuc3RvbXBDbGllbnQpIHsKICAgICAgICB0aGlzLnN0b21wQ2xpZW50LmRpc2Nvbm5lY3QoKTsKICAgICAgfQogICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlOwogICAgfSwKICAgIHRpY2tsZUNvbm5lY3Rpb24oKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID8gdGhpcy5kaXNjb25uZWN0KCkgOiB0aGlzLmNvbm5lY3QoKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLmNvbm5lY3QoKTsKICB9Cn07Cg=="},{"version":3,"sources":["WebsocketGreetings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WebsocketGreetings.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div id=\"main-content\" class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <form class=\"form-inline\">\n            <div class=\"form-group\">\n              <label for=\"connect\">WebSocket connection:</label>\n              <v-btn id=\"connect\" class=\"btn btn-default\" type=\"submit\" :disabled=\"connected === true\" @click.prevent=\"connect\">Connect</v-btn>\n              <v-btn id=\"disconnect\" class=\"btn btn-default\" type=\"submit\" :disabled=\"connected === false\" @click.prevent=\"disconnect\">Disconnect\n              </v-btn>\n            </div>\n          </form>\n        </div>\n        <div class=\"col-md-6\">\n          <form class=\"form-inline\">\n            <div class=\"form-group\">\n              <label for=\"name\">What is your name?</label>\n              <input type=\"text\" id=\"name\" class=\"form-control\" v-model=\"send_message\" placeholder=\"Your name here...\">\n            </div>\n            <v-btn id=\"send\" class=\"btn btn-default\" type=\"submit\" @click.prevent=\"send\">Send</v-btn>\n          </form>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <table id=\"conversation\" class=\"table table-striped\">\n            <thead>\n            <tr>\n              <th>Greetings</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"item in received_messages\" :key=\"item\">\n              <td>{{ item }}</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nexport default {\n  name: \"websocketdemo\",\n  data() {\n    return {\n      received_messages: [],\n      send_message: null,\n      connected: false\n    };\n  },\n  methods: {\n    send() {\n      console.log(\"Send message:\" + this.send_message);\n      if (this.stompClient && this.stompClient.connected) {\n        const msg = { name: this.send_message };\n        console.log(JSON.stringify(msg));\n        this.stompClient.send(\"/app/hello\", JSON.stringify(msg), {});\n      }\n    },\n    connect() {\n      this.socket = new SockJS(\"http://localhost:8088/gs-guide-websocket\");\n      this.stompClient = Stomp.over(this.socket);\n      this.stompClient.connect(\n          {},\n          frame => {\n            this.connected = true;\n            console.log(frame);\n            this.stompClient.subscribe(\"/topic/messages\", tick => {\n              console.log(tick);\n              this.received_messages.push(JSON.parse(tick.body).content);\n            });\n          },\n          error => {\n            console.log(error);\n            this.connected = false;\n          }\n      );\n    },\n    disconnect() {\n      if (this.stompClient) {\n        this.stompClient.disconnect();\n      }\n      this.connected = false;\n    },\n    tickleConnection() {\n      this.connected ? this.disconnect() : this.connect();\n    }\n  },\n  mounted() {\n    // this.connect();\n  }\n};\n</script>\n<style scoped=\"\">\n</style>\n"]}]}